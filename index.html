<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ch3ss</title>
	<link rel="stylesheet" href="static/css/main.css">
</head>
<body>
	<script src="static/js/three.js"></script>
	<script src="static/js/OrbitControls.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.2/TweenMax.min.js"></script>

	<script>
		var scene = new THREE.Scene();
		var camera = new THREE.PerspectiveCamera(100, window.innerWidth / window.innerHeight, 0.1, 1000);
		camera.position.z = 2;
		var renderer = new THREE.WebGLRenderer({ antialias: true });		
		
		renderer.setClearColor("#ffffff");
		renderer.setSize(window.innerWidth, window.innerHeight);

		document.body.appendChild(renderer.domElement);

		controls = new THREE.OrbitControls (camera, renderer.domElement);
		
		window.addEventListener('resize', () => {
			renderer.setSize(window.innerWidth, window.innerHeight);
			camera.aspect(window.innerWidth / window.innerHeight);

			camera.updateProjectionMatrix();
		})

		var raycaster = new THREE.Raycaster();

		var geometry = new THREE.BoxGeometry(2, 2, 2);
		var material = new THREE.MeshLambertMaterial({color: 0x080808, transparent: true, opacity: 0.1});
		var mesh = new THREE.Mesh(geometry, material);

		scene.add(mesh);

		var light = new THREE.PointLight(0xFFFFFF, 1, 500);
		light.position.set(10, 0, 25);
		scene.add(light);

		let n = 5;
		let nn = n * n;
		let nnn = n * n * n;

		/*let geometry = new THREE.BufferGeometry();

		function mapTo3D(index) {
			let x = index % n;
			let y = Math.floor(index / n) % n;
			let z = Math.floor(index / nn);
			return { x: x, y: y, z: z };
		}

		function mapFrom3D(x, y, z) {
			return x + y * n + z * nn;
		}

		let indices3D = [];
		
		for (let i = 0; i < nnn; i++) {
			var p = mapTo3D(i); 
			if (p.x + 1 < n) {
				indices3D.push(i);
				indices3D.push(mapFrom3D(p.x + 1, p.y, p.z));
			}
			
			if (p.y + 1 < n) {
				indices3D.push(i);
				indices3D.push(mapFrom3D(p.x, p.y + 1, p.z));
			
			}
			
			if (p.z + 1 < n) {
				indices3D.push(i);
				indices3D.push(mapFrom3D(p.x, p.y, p.z + 1));
			}
		}

		geometry.setIndex(indices3D);
		let lines = new THREE.LineSegments(geometry, new THREE.LineBasicMaterial());
		scene.add(lines);*/



		var render = function() {
			controls.update();
			requestAnimationFrame(render);
			renderer.render(scene, camera);
		}

		render();

		/*this.tl = new TimelineMax({paused: true});
		
		this.tl.to(this.mesh.position, 1, {x: 3, ease: Expo.easeOut});

		document.body.addEventListener('click', () => {
			this.tl.play();
		})*/
		
	</script>
</body>
</html>